controller -> service layer -> repo layer